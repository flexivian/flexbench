"use strict";(self.webpackChunkflexbench=self.webpackChunkflexbench||[]).push([[617],{3905:(n,e,t)=>{t.d(e,{Zo:()=>u,kt:()=>c});var a=t(7294);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function r(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function l(n,e){if(null==n)return{};var t,a,i=function(n,e){if(null==n)return{};var t,a,i={},o=Object.keys(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var s=a.createContext({}),m=function(n){var e=a.useContext(s),t=e;return n&&(t="function"==typeof n?n(e):r(r({},e),n)),t},u=function(n){var e=m(n.components);return a.createElement(s.Provider,{value:e},n.children)},p={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(n,e){var t=n.components,i=n.mdxType,o=n.originalType,s=n.parentName,u=l(n,["components","mdxType","originalType","parentName"]),d=m(t),c=i,y=d["".concat(s,".").concat(c)]||d[c]||p[c]||o;return t?a.createElement(y,r(r({ref:e},u),{},{components:t})):a.createElement(y,r({ref:e},u))}));function c(n,e){var t=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var o=t.length,r=new Array(o);r[0]=d;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=n,l.mdxType="string"==typeof n?n:i,r[1]=l;for(var m=2;m<o;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9789:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>m});var a=t(7462),i=(t(7294),t(3905));const o={},r="Anonymization",l={unversionedId:"GSoC/2024/Anonymization/README",id:"GSoC/2024/Anonymization/README",title:"Anonymization",description:"Overview",source:"@site/docs/GSoC/2024/Anonymization/README.md",sourceDirName:"GSoC/2024/Anonymization",slug:"/GSoC/2024/Anonymization/",permalink:"/flexbench/docs/GSoC/2024/Anonymization/",draft:!1,editUrl:"https://github.com/flexivian/flexbench/docs/GSoC/2024/Anonymization/README.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"2024",permalink:"/flexbench/docs/GSoC/2024/"},next:{title:"Anonymization-Feature-Report",permalink:"/flexbench/docs/GSoC/2024/Anonymization/Anonymization-Feature-Report"}},s={},m=[{value:"Overview",id:"overview",level:2},{value:"File Involved",id:"file-involved",level:2},{value:"Features",id:"features",level:2},{value:"Structure",id:"structure",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Enabling/Disabling Anonymization",id:"enablingdisabling-anonymization",level:3},{value:"Anonymizing Different Data Formats",id:"anonymizing-different-data-formats",level:3},{value:"Anonymizing Text",id:"anonymizing-text",level:4},{value:"Anonymizing URL-encoded Strings",id:"anonymizing-url-encoded-strings",level:4},{value:"Anonymizing JSON Objects",id:"anonymizing-json-objects",level:4},{value:"Anonymizing HTML Content",id:"anonymizing-html-content",level:4},{value:"Anonymizing Multipart Form Data",id:"anonymizing-multipart-form-data",level:4},{value:"Anonymizing HTTP Requests and Responses",id:"anonymizing-http-requests-and-responses",level:3},{value:"Anonymizing HTTP Requests",id:"anonymizing-http-requests",level:4},{value:"Anonymizing HTTP Responses",id:"anonymizing-http-responses",level:4},{value:"Configuration(Manual Mode)",id:"configurationmanual-mode",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"License",id:"license",level:2}],u={toc:m};function p(n){let{components:e,...t}=n;return(0,i.kt)("wrapper",(0,a.Z)({},u,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"anonymization"},"Anonymization"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"The Anonymizer Library is a Node.js module designed to anonymize sensitive information in various types of data, including JSON objects, URL-encoded strings, HTML content, and multipart form data. The library supports different types of data formats and allows customization of anonymization rules to suit specific needs."),(0,i.kt)("h2",{id:"file-involved"},"File Involved"),(0,i.kt)("p",null,"  anonymizer.js"),(0,i.kt)("p",null,"  anonymizerConfig.js"),(0,i.kt)("p",null,"  main.js"),(0,i.kt)("h2",{id:"features"},"Features"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Email Anonymization"),": Replaces email addresses with a generic anonymized email."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name Anonymization"),": Supports full name and single name anonymization."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Address Anonymization"),": Replaces street addresses, city names, and other location-specific details with anonymized placeholders."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Phone Number Anonymization"),": Replaces phone numbers with a generic anonymized number."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"URL Anonymization"),": Replaces URLs with a generic anonymized URL."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"State and ZIP Code Anonymization"),": Replaces state abbreviations and ZIP codes with generic placeholders."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Password Anonymization"),": Replaces passwords with a generic anonymized password."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"HTML Content Anonymization"),": Anonymizes HTML content, including headers, paragraphs, and links."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Form Data Anonymization"),": Supports anonymization of multipart form data."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Custom Anonymization Rules"),": Allows users to define custom regex patterns and replacements for specific anonymization needs.")),(0,i.kt)("h2",{id:"structure"},"Structure"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"anonymizer.js\n\u2502\n\u251c\u2500\u2500 Dependencies\n\u2502   \u251c\u2500\u2500 multiparty\n\u2502   \u251c\u2500\u2500 cheerio\n\u2502   \u251c\u2500\u2500 fs\n\u2502   \u251c\u2500\u2500 path\n\u2502\n\u251c\u2500\u2500 Regular Expressions\n\u2502   \u251c\u2500\u2500 emailRegex\n\u2502   \u251c\u2500\u2500 fullNameRegex\n\u2502   \u251c\u2500\u2500 singleNameRegex\n\u2502   \u251c\u2500\u2500 addressRegex\n\u2502   \u251c\u2500\u2500 phoneRegex\n\u2502   \u251c\u2500\u2500 urlRegex\n\u2502   \u251c\u2500\u2500 stateRegex\n\u2502   \u251c\u2500\u2500 zipRegex\n\u2502   \u251c\u2500\u2500 passwordRegex\n\u2502\n\u251c\u2500\u2500 Variables\n\u2502   \u251c\u2500\u2500 anonymizationEnabled (boolean)\n\u2502   \u251c\u2500\u2500 manualMode (boolean) //Important Config file for manual mode\n\u2502   \u251c\u2500\u2500 customAnonymizationRules //Important Config file for manual mode\n\u2502\n\u251c\u2500\u2500 Functions\n\u2502   \u251c\u2500\u2500 anonymizeEmail(text) // email\n\u2502   \u251c\u2500\u2500 anonymizeFullName(text) // full name\n\u2502   \u251c\u2500\u2500 anonymizeSingleName(text) // single name\n\u2502   \u251c\u2500\u2500 anonymizeAddress(text) // address\n\u2502   \u251c\u2500\u2500 anonymizePhone(text) // number\n\u2502   \u251c\u2500\u2500 anonymizeUrl(text) //string in url\n\u2502   \u251c\u2500\u2500 anonymizeState(text) //state\n\u2502   \u251c\u2500\u2500 anonymizeZip(text) //zip\n\u2502   \u251c\u2500\u2500 anonymizePassword(text) //password\n\u2502   \u251c\u2500\u2500 applyManual(text, rules) // config driven\n\u2502   \u251c\u2500\u2500 anonymizeText(text) // string\n\u2502   \u251c\u2500\u2500 anonymizeUrlEncoded(data) //url\n\u2502   \u251c\u2500\u2500 anonymizeObject(obj) // obj\n\u2502   \u251c\u2500\u2500 anonymizeField(key, value) // address(full)\n\u2502   \u251c\u2500\u2500 anonymizeHtml(htmlContent) // html\n\u2502   \u251c\u2500\u2500 anonymizeFormData(req, callback) // form\n\u2502   \u251c\u2500\u2500 anonymizeRequest(options) // https req\n\u2502   \u251c\u2500\u2500 anonymizeResponse(response, cb) // https res\n\u2502   \u251c\u2500\u2500 setAnonymization(flag) // flag setter\n\u2502   \u251c\u2500\u2500 isAnonymizationEnabled() // flag check\n\u2502\n\u2514\u2500\u2500 Module Exports\n    \u251c\u2500\u2500 anonymizeRequest\n    \u251c\u2500\u2500 anonymizeResponse\n    \u251c\u2500\u2500 anonymizeObject\n    \u251c\u2500\u2500 anonymizeFormData\n    \u251c\u2500\u2500 isAnonymizationEnabled\n    \u2514\u2500\u2500 setAnonymization\n")),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"To use the Anonymizer Library in your Node.js project, you can set anonymization mode into ",(0,i.kt)("em",{parentName:"p"},"true"),", no install need for anonymization feature."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"//default\nlet anonymizationEnabled = true;\n")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("h3",{id:"enablingdisabling-anonymization"},"Enabling/Disabling Anonymization"),(0,i.kt)("p",null,"The anonymization process can be enabled or disabled using the following functions:"),(0,i.kt)("p",null,"Standalone Script:"),(0,i.kt)("p",null,"When you creating your script utilizing Flexbench, by importing flexbench, set the anonymization feature via core library"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const trafficSimulator = require('flexbench');\n\n// Enable anonymization\ntrafficSimulator.setAnonymization(true);\n\n// Check if anonymization is enabled\nconsole.log(trafficSimulator.isAnonymizationEnabled()); // true\n")),(0,i.kt)("p",null,"Server-app:"),(0,i.kt)("p",null,"Go to server-app/tests/"),(0,i.kt)("p",null,"Add code below to both multi-requests.js & simple-request.js"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// Enable anonymization\ntrafficSimulator.setAnonymization(true);\n//above start\n trafficSimulator.start(threadId);\n")),(0,i.kt)("p",null,"desktop-app:"),(0,i.kt)("p",null,"Go to desktop-app/tests/"),(0,i.kt)("p",null,"Add code below to both multi-requests.js & simple-request.js"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// Enable anonymization\ntrafficSimulator.setAnonymization(true);\n//above start\n trafficSimulator.start(threadId);\n")),(0,i.kt)("h3",{id:"anonymizing-different-data-formats"},"Anonymizing Different Data Formats"),(0,i.kt)("h4",{id:"anonymizing-text"},"Anonymizing Text"),(0,i.kt)("p",null,"To anonymize a plain text string:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const anonymizedText = anonymizer.anonymizeText("Yujun Liu lives at 123 Main St.");\nconsole.log(anonymizedText); // Anonymized Name lives at Anonymized Address.\n')),(0,i.kt)("h4",{id:"anonymizing-url-encoded-strings"},"Anonymizing URL-encoded Strings"),(0,i.kt)("p",null,"To anonymize a URL-encoded string:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const urlEncodedData = "email.YJ@example.com&name=Yujun+Liu";\nconst anonymizedData = anonymizer.anonymizeUrlEncoded(urlEncodedData);\nconsole.log(anonymizedData); // email=anonymized_email@example.com&name=Anonymized+Name\n')),(0,i.kt)("h4",{id:"anonymizing-json-objects"},"Anonymizing JSON Objects"),(0,i.kt)("p",null,"To anonymize a JSON object:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const jsonObject = {\n    name: \"Yujun Liu\",\n    email: \"YJ@example.com\",\n    address: \"22 bond St, Anytown, USA\"\n};\nconst anonymizedObject = anonymizer.anonymizeObject(jsonObject);\nconsole.log(anonymizedObject);\n// { name: 'Anonymized Name', email: 'anonymized_email@example.com', address: 'Anonymized Address' }\n")),(0,i.kt)("h4",{id:"anonymizing-html-content"},"Anonymizing HTML Content"),(0,i.kt)("p",null,"To anonymize HTML content:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const htmlContent = '<h1>Yujun Liu</h1><p>Email: YujunLiu@example.com</p>';\nconst anonymizedHtml = anonymizer.anonymizeHtml(htmlContent);\nconsole.log(anonymizedHtml); \n// <h1>Anonymized Title</h1><p>Email: anonymized_email@example.com</p>\n")),(0,i.kt)("h4",{id:"anonymizing-multipart-form-data"},"Anonymizing Multipart Form Data"),(0,i.kt)("p",null,"To anonymize multipart form data:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const req = {}; // your HTTP request object\nanonymizer.anonymizeFormData(req, (err, anonymizedData) => {\n    if (err) {\n        console.error('Error anonymizing form data:', err);\n    } else {\n        console.log('Anonymized form data:', anonymizedData);\n    }\n});\n")),(0,i.kt)("h3",{id:"anonymizing-http-requests-and-responses"},"Anonymizing HTTP Requests and Responses"),(0,i.kt)("h4",{id:"anonymizing-http-requests"},"Anonymizing HTTP Requests"),(0,i.kt)("p",null,"To anonymize an HTTP request before sending it:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const options = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ name: 'Yujun Liu', email: 'YujunLiu@example.com' })\n};\n\nconst anonymizedRequestOptions = anonymizer.anonymizeRequest(options);\n")),(0,i.kt)("h4",{id:"anonymizing-http-responses"},"Anonymizing HTTP Responses"),(0,i.kt)("p",null,"To anonymize an HTTP response after receiving it:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const response = {}; // your HTTP response object\nconst anonymizedResponse = anonymizer.anonymizeResponse(response, (anonymizedResponse) => {\n    console.log('Anonymized response:', anonymizedResponse);\n});\n")),(0,i.kt)("h2",{id:"configurationmanual-mode"},"Configuration(Manual Mode)"),(0,i.kt)("p",null,"The library is designed to work with a configuration file (e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"anonymizerConfig.json"),") where custom anonymization rules can be specified. The configuration can include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Custom regex patterns for anonymization"),(0,i.kt)("li",{parentName:"ul"},"Replacement values for specific fields"),(0,i.kt)("li",{parentName:"ul"},"Manual mode for applying specific rules")),(0,i.kt)("h2",{id:"error-handling"},"Error Handling"),(0,i.kt)("p",null,"The library includes error handling to catch and report issues during the anonymization process. Errors are logged to the console, and the original data is returned if anonymization fails."),(0,i.kt)("h2",{id:"license"},"License"),(0,i.kt)("p",null,"This project is licensed under the MIT License. See the ",(0,i.kt)("inlineCode",{parentName:"p"},"LICENSE")," file for details."))}p.isMDXComponent=!0}}]);